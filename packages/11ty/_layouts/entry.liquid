---
layout: base.11ty.js
description: Entry layout. This template is intended for use in catalogue-style pages where a single image or object needs to be featured prominently.
---

{% assign entryPageSideBySideLayout =  config.params.entryPageSideBySideLayout %}
{% assign epub = config.params.epub %}
{% assign imageDir = config.params.imageDir %}
{% assign pdf = config.params.pdf %}
{% assign zoom = config.params.figureZoom %}
{% assign pageClasses = class %}

{% comment %}
Entry content, including entry image and tombstone data
{% endcomment %}

<article class="{% pageClass pages=pages, pagination=pagination %} quire-entry" id="main" role="main">
  <div {% if entryPageSideBySideLayout == true or pageClasses contains "side-by-side" %} {% if pdf != true and epub != true %} class="side-by-side" {% endif %} {% endif %} data="{{ zoom }}">  
    
    {% if epub == true %}
    <header class="quire-entry__header">
      <div class="container">
          {% comment %} Title {% endcomment %}
          <h1 class="quire-page__header__title" id="{{ title | slugify }}">
            {% pageTitle label=label, title=title, subtitle=subtitle %}
          </h1>
      </div>
    </header>
    {% endif %}

    {% comment %} Full-width entry image header {% endcomment %}
    <div class="quire-entry__image-wrap">
      <div id="quire-entry__image" class="quire-entry__image">
        <div class="leaflet-control-fullscreen leaflet-bar leaflet-control remove-from-epub">
          <a
            id="toggleFullscreen" 
            class="leaflet-control-fullscreen-button leaflet-bar-part" 
            href="#" 
            title="View Fullscreen" 
            style="outline: none;"></a>
        </div>
        {% if image %}
          {%- assign imgPath = imageDir %}
          {%- assign imgPath = imgPath | concat: image | join: "/" %}
          <img src="{{ imgPath }}" alt="" />
        {% elsif pageObjects %}
          {% for object in pageObjects %}
            <div class="quire-entry__image__group-container">
              {% for objectFigure in object.figures %}
                {% render "entry-figure", epub: epub, pdf: pdf, zoom: zoom, imageDir: imageDir, figure: objectFigure %}
              {% endfor %}
            </div>
          {% endfor %}
        {% endif %}
      </div>
      {% comment %}
        TODO refactor `entry-figure` to only display on PDF/epub output so `lightbox` can handle display of all entry figures in the browser.
        Currently this is (hackily) displaying a `lightbox` on top of rendered `entry-figure`s
      {% endcomment %}
      <div class="quire-entry__lightbox remove-from-epub">
        {% if image %}
          {%- assign imgPath = imageDir %}
          {%- assign imgPath = imgPath | concat: image | join: "/" %}
          {% comment %} TODO add `lightbox` when a single `image` is included in front matter {% endcomment %}
        {% elsif pageObjects %}
          {% for object in pageObjects %}
            {% lightbox object.figures %}
          {% endfor %}
        {% endif %}
      </div>
    </div>

    <div class="quire-entry__content">
      {% if epub != true %}
        <header class="quire-entry__header">
          <div class="container">
            <h1 class="quire-page__header__title" id="{{ title | url }}">
              {% pageTitle label=label, title=title, subtitle=subtitle %}
            </h1>
            <div class="quire-page__header__contributor">
              {% contributors contributors=pageContributors, format=contributor_byline %}
            </div>
          </div>
        </header>
      {% endif %}

      {% tombstone pageObjects %}

      {% if abstract %}
        {% abstract abstract=abstract %}
      {% endif %}

      <section class="section quire-page__content" id="content">
        <div class="container">
          <div class="content">
            {{ content }}
            {% bibliography %}
          </div>
        </div>
      </section>

      <section class="section quire-page__content">
        <div class="container">
          {% pageButtons pagination=pagination %}
        </div>
      </section>
    </div>
  </div>
</article>
